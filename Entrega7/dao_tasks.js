var _0xbb21=['tags','tag','insertTask','INSERT\x20INTO\x20task(user,\x20text,\x20done)\x20VALUES\x20(?,\x20?,\x20?)','length','fill','(?,\x20?)','join','insertId','INSERT\x20INTO\x20tag(taskId,\x20tag)\x20VALUES\x20','markTaskDone','UPDATE\x20task\x20SET\x20done\x20=\x201\x20WHERE\x20id\x20=\x20?','deleteCompleted','DELETE\x20FROM\x20task\x20WHERE\x20user\x20=\x20?\x20AND\x20done\x20=\x201','exports','pool','getAllTasks','getConnection','query','SELECT\x20id,\x20text,\x20done,\x20tag\x20FROM\x20task\x20','LEFT\x20JOIN\x20tag\x20ON\x20task.id\x20=\x20tag.taskId\x20','release','text','done','push'];(function(_0x252bad,_0x162d11){var _0x44fa82=function(_0xf261d){while(--_0xf261d){_0x252bad['push'](_0x252bad['shift']());}};_0x44fa82(++_0x162d11);}(_0xbb21,0xbe));var _0x1bb2=function(_0x12598c,_0x5e88f2){_0x12598c=_0x12598c-0x0;var _0x3f406d=_0xbb21[_0x12598c];return _0x3f406d;};'use strict';class DAOTasks{constructor(_0xe4cc60){this[_0x1bb2('0x0')]=_0xe4cc60;}[_0x1bb2('0x1')](_0xb65b70,_0x2caa33){this[_0x1bb2('0x0')][_0x1bb2('0x2')]((_0x1d0910,_0x4e7b8d)=>{if(_0x1d0910){_0x2caa33(_0x1d0910);return;}_0x4e7b8d[_0x1bb2('0x3')](_0x1bb2('0x4')+_0x1bb2('0x5')+'WHERE\x20user\x20=\x20?\x20'+'ORDER\x20BY\x20id',[_0xb65b70],(_0x5ecd3b,_0x1efee7)=>{if(_0x5ecd3b){_0x2caa33(_0x5ecd3b);return;}_0x4e7b8d[_0x1bb2('0x6')]();let _0x1410f1=null;let _0x5b6bcd=[];for(let _0xdc8673 of _0x1efee7){if(_0x1410f1===null||_0xdc8673['id']!==_0x1410f1['id']){_0x1410f1={'id':_0xdc8673['id'],'text':_0xdc8673[_0x1bb2('0x7')],'done':Boolean(_0xdc8673[_0x1bb2('0x8')]),'tags':[]};_0x5b6bcd[_0x1bb2('0x9')](_0x1410f1);}if(_0xdc8673['tag']!==null){_0x1410f1[_0x1bb2('0xa')][_0x1bb2('0x9')](_0xdc8673[_0x1bb2('0xb')]);}}_0x2caa33(null,_0x5b6bcd);});});}[_0x1bb2('0xc')](_0x2d587a,_0x34dd34,_0x2b0437){this['pool'][_0x1bb2('0x2')]((_0x3f8dcc,_0x474bc5)=>{if(_0x3f8dcc){_0x2b0437(_0x3f8dcc);return;}_0x474bc5[_0x1bb2('0x3')](_0x1bb2('0xd'),[_0x2d587a,_0x34dd34[_0x1bb2('0x7')],_0x34dd34[_0x1bb2('0x8')]],(_0x42c13c,_0x1f08de)=>{if(_0x42c13c){_0x2b0437(_0x42c13c);return;}if(_0x34dd34['tags'][_0x1bb2('0xe')]>0x0){const _0x3cb22a=new Array(_0x34dd34[_0x1bb2('0xa')][_0x1bb2('0xe')]);_0x3cb22a[_0x1bb2('0xf')](_0x1bb2('0x10'));const _0x54fb01=_0x3cb22a[_0x1bb2('0x11')](',\x20');const _0x3d2844=[];for(let _0x2f236d of _0x34dd34['tags']){_0x3d2844[_0x1bb2('0x9')](_0x1f08de[_0x1bb2('0x12')]);_0x3d2844[_0x1bb2('0x9')](_0x2f236d);}const _0x51537c=_0x1bb2('0x13')+_0x54fb01;_0x474bc5[_0x1bb2('0x3')](_0x51537c,_0x3d2844,_0x7fd623=>{_0x474bc5[_0x1bb2('0x6')]();_0x2b0437(_0x7fd623);});}else{_0x2b0437(null);}});});}[_0x1bb2('0x14')](_0x5f5ae3,_0x12d45b){this[_0x1bb2('0x0')]['getConnection']((_0x1ae000,_0x58ecc3)=>{if(_0x1ae000){_0x12d45b(_0x1ae000);return;}_0x58ecc3[_0x1bb2('0x3')](_0x1bb2('0x15'),[_0x5f5ae3],_0x237b1d=>{_0x58ecc3[_0x1bb2('0x6')]();_0x12d45b(_0x237b1d);});});}[_0x1bb2('0x16')](_0x5f3347,_0x48fff2){this[_0x1bb2('0x0')][_0x1bb2('0x2')]((_0x302d6b,_0x237461)=>{if(_0x302d6b){_0x48fff2(_0x302d6b);return;}_0x237461[_0x1bb2('0x3')](_0x1bb2('0x17'),[_0x5f3347],_0x1a085f=>{_0x237461['release']();_0x48fff2(_0x1a085f);});});}}module[_0x1bb2('0x18')]={'DAOTasks':DAOTasks};